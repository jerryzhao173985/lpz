#!/bin/sh
## File:     selforg-config for libselforg
## Author:   Georg Martius
## Date:     22.10.2013




# Do not edit, this is file generated by m4 from selforg-config.m4

 









prefix="/usr/local"
srcprefix="/Users/jerry/lpzrobot_mac/selforg"
intern=
type=DEVEL
rpath=-Wl,-rpath,$srcprefix

LIBBASE=selforg

## use -pg for profiling
CBASEFLAGS="-std=c++17 -pthread  -I/opt/local/include -I/opt/homebrew/include"
CPPFLAGS="$CBASEFLAGS"
INTERNFLAGS="-g -O"
LIBS="-lm -lreadline -lncurses -lpthread"
STATIC=

usage="\
Usage: selforg-config [--prefix[=DIR]] [--srcprefix[=DIR]] [--version] [--intern] [--static] [--opt|--dbg] [--cflags] [--libs] [--libfile] [--solibfile] [--type]"

if test $# -eq 0; then
      echo "${usage}" 1>&2
      exit 1
fi

while test $# -gt 0; do
  case "$1" in
  -*=*) optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) optarg= ;;
  esac

  case $1 in
    --type)
      echo $type
      exit 0
      ;;
    --prefix=*)
      prefix=$optarg
      ;;
    --prefix)
      echo $prefix
      ;;
    --srcprefix=*)
      srcprefix=$optarg
      ;;
    --srcprefix)
      echo $srcprefix
      ;;
    --version)
      echo 0.8.0
      ;;
    --intern) ##for internal use when compiling the lib
      intern=1
      ;;
    --static) ##force use static linking of lib
      STATIC=--static
      STATICSTART=
      STATICEND=
      rpath=""
    ;;
    --opt) ##Optimisation
      LIBBASE=${LIBBASE}_opt
      CPPFLAGS="$CBASEFLAGS -DNDEBUG"
      INTERNFLAGS="-O3"
      ;;
    --dbg) ## DEBUG
      LIBBASE=${LIBBASE}_dbg
      CPPFLAGS="$CBASEFLAGS -g"
      INTERNFLAGS="-g"
      ;;
    --cflags)
      if [ -z "$intern" ]; then INTERNFLAGS=; fi
      if type configurator-config >/dev/null 2>&1; then
        CONFIGURATORCLAGS=`configurator-config $STATIC --cflags`;
      else
        CONFIGURATORCLAGS=-DNOCONFIGURATOR
      fi
      echo $CPPFLAGS -I"$srcprefix/include" -I/opt/local/include -I/opt/homebrew/include `gsl-config --cflags` $CONFIGURATORCLAGS $INTERNFLAGS
      ;;
    --libs)
      if type configurator-config >/dev/null 2>&1; then
        CONFIGURATORLIBS=`configurator-config $STATIC --libs`;
      fi
      echo $LIBS -L"$srcprefix/" $rpath $STATICSTART -l$LIBBASE $STATICEND `gsl-config --libs` $CONFIGURATORLIBS
      ;;
    --libfile)
      echo "$srcprefix/lib${LIBBASE}.a"
      ;;
    --solibfile)
      echo "$srcprefix/lib${LIBBASE}.so"
      ;;
    *)
      echo "Syntax Error: $0 $@" 1>&2
      echo "${usage}" 1>&2
      exit 1
      ;;
  esac
  shift
done
